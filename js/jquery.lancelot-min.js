(function(a){a.fn.lancelot=function(c){var b={};b.defaults={hoverTime:2000,aclass:"lancelotGo",atext:"",show:"false",speed:"fast",linkAction:"location",atitle:"go in 2s",alink:false,element:"a",launch:false};b.o=a.extend(b.defaults,c);return this.each(function(){var h=a(this),d,g,f,j,i,e;d=h.attr("href");if(b.o.alink!==false){d=b.o.alink;if(a.isFunction(b.o.alink)){d=b.o.alink(h)}}b.ahref=d;b.o.hoverElement=' <a href="'+d+'" class="'+b.o.aclass+'" title="'+b.o.atitle+'">'+b.o.atext+"</a>";if(b.o.element!=="a"){b.o.hoverElement=a(document.createElement(b.o.element)).addClass(b.o.aclass)}h.append(b.o.hoverElement);g=h.find("."+b.o.aclass);b.goLink=g;if(b.o.show!=="true"){g.hide();h.hover(function(){g.fadeIn(b.o.speed)},function(){g.fadeOut(b.o.speed)})}e=function(){window.location.href=d};f=function(){j=window.open(d,"ttlocal search");if(j){j.focus()}else{e()}};i=function(){switch(b.o.linkAction){case"open":window.open(d,"ttlocal search");break;case"_blank":window.open(d,"_blank");break;case"tryPop":f();break;default:e()}};b.t=false;g.hover(function(){if(b.t){window.clearTimeout(b.t)}if(b.o.launch!==false&&a.isFunction(b.o.launch)){b.t=window.setTimeout(b.o.launch(h),b.o.hoverTime)}else{b.t=window.setTimeout(i,b.o.hoverTime)}},function(){window.clearTimeout(b.t)})})}})(jQuery);